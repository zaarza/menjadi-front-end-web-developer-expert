{"version":3,"file":"app~e4317507.bundle.js","mappings":"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","sources":["webpack://restaurant-apps/./src/scripts/routes/routes.js","webpack://restaurant-apps/./src/scripts/routes/url-parser.js","webpack://restaurant-apps/./src/scripts/templates/template-creator.js","webpack://restaurant-apps/./src/scripts/utils/FavoriteButtonPresenter.js","webpack://restaurant-apps/./src/scripts/utils/back-to-top-initiator.js","webpack://restaurant-apps/./src/scripts/utils/drawer-initiator.js","webpack://restaurant-apps/./src/scripts/utils/service-worker.js"],"sourcesContent":["import Home from '../views/pages/Home';\nimport Detail from '../views/pages/Detail';\nimport SearchResult from '../views/pages/SearchResult';\nimport Favorite from '../views/pages/Favorite';\n\nconst routes = {\n  '/': Home,\n  '/home': Home,\n  '/detail/:id': Detail,\n  '/search/:id': SearchResult,\n  '/favorite': Favorite,\n};\n\nexport default routes;\n","const urlParser = {\n  parseActiveUrlWithCombiner() {\n    const currentUrl = this._getCurrentUrl();\n    const splittedUrl = this._urlSplitter(currentUrl);\n    return this._urlCombiner(splittedUrl);\n  },\n\n  parseActiveUrlWithoutCombiner() {\n    const currentUrl = this._getCurrentUrl();\n    return this._urlSplitter(currentUrl);\n  },\n\n  _getCurrentUrl() {\n    return window.location.hash.slice(1).toLowerCase();\n  },\n\n  _urlSplitter(url) {\n    const urlSplit = url.split('/');\n    return {\n      resource: urlSplit[0] || null,\n      id: urlSplit[1] || null,\n      verb: urlSplit[2] || null,\n    };\n  },\n\n  _urlCombiner(splittedUrl) {\n    return (splittedUrl.resource ? `/${splittedUrl.resource}` : '/') + (splittedUrl.id ? '/:id' : '') + (splittedUrl.verb ? `/${splittedUrl.verb}` : '');\n  },\n};\n\nexport default urlParser;\n","/* eslint-disable max-len */\nimport DicodingRestaurantSource from '../data/dicoding-restaurant-source';\n\nconst createDetailRestaurantTemplate = (restaurant) => `\n    <h1 class=\"page-title\">${restaurant.name}</h1>\n    <div class=\"restaurant-detail-header\">\n      <img src=\"${DicodingRestaurantSource.restaurantImage(restaurant.pictureId, 'large')}\" alt=\"Gambar dari restoran ${restaurant.name}\" class=\"restaurant-detail__img\" />\n        <div class=\"restaurant-detail-info\">\n          <h2 class=\"restaurant-detail-info-title\">Informasi mengenai restoran ini:</h2>\n          <p><b>Kota:</b> ${restaurant.city}</p>\n          <p><b>Alamat:</b> ${restaurant.address}</p>\n          <p><b>Rating:</b> ${restaurant.rating}</p>\n          <div class=\"restaurant-categories\">\n            <p><b>Kategori: </b></p>\n            <ul class=\"restaurant-categories-list\">\n              ${restaurant.categories.map((category) => `<li class=\"restaurant-category\">${category.name}</li>`).join('')}\n            </ul>\n          </div>\n        </div>\n    </div>\n    \n    <p class=\"restaurant-detail__description\">${restaurant.description}</p>\n\n    <div class=\"restaurant-menus\">\n      <h2>Daftar Menu</h2>\n      <div class=\"restaurant-menu__wrapper\">\n        <div class=\"restaurant-menu\">\n          <h3>Minuman</h3>\n          <ul>${restaurant.menus.drinks.map((menu) => `<li>${menu.name}</li>`).join('')}</ul>\n        </div>\n        <div class=\"restaurant-menu\">\n          <h3>Makanan</h3>\n         <ul>${restaurant.menus.foods.map((menu) => `<li>${menu.name}</li>`).join('')}</ul>\n        </div>\n      </div>\n    </div>\n\n    <button class=\"button-primary\" onclick=\"history.back()\">Kembali</button>\n    <h2 class=\"title-center\">Ulasan Pembeli (${restaurant.customerReviews.length})</h2>\n    ${restaurant.customerReviews.map((review) => `<div class=\"review\"><h3>${review.name}</h3><p>${review.review}</p><p class=\"review-date\">${review.date}</p></div>`).join(' ')}\n\n    <form class=\"new-review-form\">\n      <h2>Tambahkan ulasan baru</h2>\n      <span class=\"input-span\">\n        <label for=\"input-name\">Nama*</label>\n        <input type=\"text\" id=\"input-name\" placeholder=\"Masukkan nama anda...\" required/>\n      </span>\n      <span class=\"input-span\">\n        <label for=\"input-review\">Ulasan*</label>\n        <textarea id=\"input-review\" placeholder=\"Menu lengkap, tempat bersih\" required></textarea>\n      </span>\n        <button id=\"submit-review\" class=\"button-primary\" type=\"submit\">Kirim</button>\n    </form> \n  `;\n\nconst createFavoriteRestaurantButtonTemplate = () => `\n    <button aria-label=\"add this restaurant to favorite list\" id=\"favorite-button\" class=\"like\">\n      <i class=\"fa fa-heart-o\" aria-hidden=\"true\"></i>\n    </button>\n  `;\n\nconst createRemoveFavoriteRestaurantButtonTemplate = () => `\n  <button aria-label=\"remove this restaurant from favorite list\" id=\"remove-favorite-button\" class=\"like\">\n      <i class=\"fa fa-heart\" aria-hidden=\"true\"></i>\n    </button>\n  `;\n\nconst createBackToTopButtonTemplate = () => `\n  <a href=\"#\" class=\"back-to-top\">\n    <i class=\"fa fa-angle-up\" aria-hidden=\"true\"></i>\n  </a>  \n`;\n\nexport {\n  createDetailRestaurantTemplate, createFavoriteRestaurantButtonTemplate, createRemoveFavoriteRestaurantButtonTemplate, createBackToTopButtonTemplate,\n};\n","import favoriteRestaurantIdb from '../data/favorite-restaurant-idb';\nimport { createFavoriteRestaurantButtonTemplate, createRemoveFavoriteRestaurantButtonTemplate } from '../templates/template-creator';\n\nconst FavoriteButtonPresenter = {\n  async init({ favoriteButtonContainer, restaurant }) {\n    this._favoriteButtonContainer = favoriteButtonContainer;\n    this._restaurant = restaurant;\n    await this._renderButton();\n  },\n\n  async _renderButton() {\n    const { restaurantId } = this._restaurant;\n    this._renderFavoriteRestaurantButton();\n    if (await this._isLiked(restaurantId)) {\n      this._renderRemoveFavoriteRestaurantButton();\n    }\n  },\n\n  async _isLiked(restaurantId) {\n    const status = await favoriteRestaurantIdb.getFavoriteRestaurant(restaurantId);\n    return !!status;\n  },\n\n  _renderFavoriteRestaurantButton() {\n    const { restaurantId } = this._restaurant;\n    this._favoriteButtonContainer.innerHTML = createFavoriteRestaurantButtonTemplate();\n\n    const addToFavoriteButton = document.getElementById('favorite-button');\n\n    addToFavoriteButton.addEventListener('click', async () => {\n      // eslint-disable-next-line max-len\n      if (!restaurantId) {\n        return;\n      }\n      await favoriteRestaurantIdb.putFavoriteRestaurant({ restaurantId });\n      this._renderButton();\n    });\n  },\n\n  _renderRemoveFavoriteRestaurantButton() {\n    const { restaurantId } = this._restaurant;\n    this._favoriteButtonContainer.innerHTML = createRemoveFavoriteRestaurantButtonTemplate();\n    const removeFavoriteButton = document.getElementById('remove-favorite-button');\n\n    removeFavoriteButton.addEventListener('click', async () => {\n      await favoriteRestaurantIdb.deleteFavoriteRestaurant(restaurantId);\n      this._renderButton();\n    });\n  },\n};\n\nexport default FavoriteButtonPresenter;\n","import { createBackToTopButtonTemplate } from '../templates/template-creator';\n\nconst BackToTopInitiator = {\n  init({ backToTopContainer }) {\n    this._backToTopContainer = backToTopContainer;\n\n    window.addEventListener('scroll', () => {\n      if (window.scrollY > 1170) {\n        this._showBackToTopButton();\n      } else {\n        this._hideBackToTopButton();\n      }\n    });\n  },\n\n  _hideBackToTopButton() {\n    this._backToTopContainer.innerHTML = '';\n  },\n\n  _showBackToTopButton() {\n    this._backToTopContainer.innerHTML = createBackToTopButtonTemplate();\n  },\n};\n\nexport default BackToTopInitiator;\n","const DrawerInitiator = {\n  init({ button, content, navbarLinks }) {\n    const links = Array.from(navbarLinks.children);\n    button.addEventListener('click', (event) => {\n      this._toggleNavbar(event, navbarLinks);\n    });\n\n    content.addEventListener('click', (event) => {\n      this._hideNavbar(event, navbarLinks);\n    });\n\n    links.forEach((link) => {\n      link.addEventListener('click', (event) => {\n        links.forEach((item) => item.classList.remove('active'));\n        event.target.classList.add('active');\n        this._hideNavbar(event, navbarLinks);\n      });\n    });\n  },\n\n  _toggleNavbar(event, navbarLinks) {\n    event.stopPropagation();\n    navbarLinks.classList.toggle('active');\n  },\n\n  _hideNavbar(event, navbarLinks) {\n    event.stopPropagation();\n    navbarLinks.classList.remove('active');\n  },\n};\n\nexport default DrawerInitiator;\n","import { Workbox } from 'workbox-window';\n\nconst ServiceWorker = () => {\n  if (!('serviceWorker' in navigator)) {\n    console.error('Browser does not support service worker');\n    return;\n  }\n\n  const wb = new Workbox('/service-worker.js');\n\n  try {\n    wb.register();\n  } catch {\n    console.error('Failed to register service worker');\n  }\n};\n\nexport default ServiceWorker;\n"],"names":["Home","Detail","SearchResult","Favorite","parseActiveUrlWithCombiner","currentUrl","this","_getCurrentUrl","splittedUrl","_urlSplitter","_urlCombiner","parseActiveUrlWithoutCombiner","window","location","hash","slice","toLowerCase","url","urlSplit","split","resource","id","verb","createDetailRestaurantTemplate","restaurant","name","DicodingRestaurantSource","pictureId","city","address","rating","categories","map","category","join","description","menus","drinks","menu","foods","customerReviews","length","review","date","createFavoriteRestaurantButtonTemplate","createRemoveFavoriteRestaurantButtonTemplate","createBackToTopButtonTemplate","i","init","favoriteButtonContainer","_favoriteButtonContainer","_restaurant","_renderButton","restaurantId","_renderFavoriteRestaurantButton","_isLiked","_renderRemoveFavoriteRestaurantButton","favoriteRestaurantIdb","status","innerHTML","document","getElementById","addEventListener","backToTopContainer","_backToTopContainer","scrollY","_showBackToTopButton","_hideBackToTopButton","button","content","navbarLinks","links","Array","from","children","event","_toggleNavbar","_hideNavbar","forEach","link","item","classList","remove","target","add","stopPropagation","toggle","navigator","wb","Workbox","register","console","error"],"sourceRoot":""}